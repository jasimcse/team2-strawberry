<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">

<ui:composition template="/common/template.xhtml">

	<ui:define name="pageContent">
		<h:form>
			<table class="mainTable">
				<tr>
					<td><h:outputLabel value="Номер на рама*">
							<br />
							<h:inputText id="vin" value="#{dobavqneNaAvtomobil.VIN}"
								maxlength="17"
								required="#{not empty param[dobavqneNaAvtomobil.addButton.clientId]}"
								requiredMessage="задължително поле!"
								validatorMessage="Номерът на рамата се състои от 17 символа - главни латински букви и цифри.">
								<f:validateRegex pattern="^[A-Z0-9]{17}$" />
							</h:inputText>
							<h:message for="vin" />
						</h:outputLabel></td>
					<td><h:outputLabel value="Номер на двигател*">
							<br />
							<h:inputText id="enginenum"
								value="#{dobavqneNaAvtomobil.engineNumber}" maxlength="50"
								required="#{not empty param[dobavqneNaAvtomobil.addButton.clientId]}"
								requiredMessage="задължително поле!"
								validatorMessage="Номерът на двигателя се състои от главни латински букви и цифри.">
								<f:validateRegex pattern="^[A-Z0-9]+$" />
							</h:inputText>
							<h:message for="enginenum" />
						</h:outputLabel></td>
					<td><h:outputLabel value="Регистрационен номер*">
							<br />
							<h:inputText id="platenum"
								value="#{dobavqneNaAvtomobil.plateNumber}" maxlength="8"
								required="#{not empty param[dobavqneNaAvtomobil.addButton.clientId]}"
								requiredMessage="задължително поле!"
								validatorMessage="Регистрационният номер се състои от главни латински букви и цифри.">
								<f:validateRegex pattern="^[A-Z0-9]+$" />
							</h:inputText>
							<h:message for="platenum" />
						</h:outputLabel></td>
				</tr>
				<tr>
					<td><h:outputLabel value="Марка на автомобила*">
							<br />
							<h:inputText id="brand"
								value="#{dobavqneNaAvtomobil.vehicleModel.brand}" maxlength="50"
								required="#{not empty param[dobavqneNaAvtomobil.addButton.clientId]}"
								requiredMessage="задължително поле!" readonly="true" />
							<h:message for="brand" />
						</h:outputLabel></td>
					<td><h:outputLabel value="Модел на автомобила*">
							<br />
							<h:inputText id="model"
								value="#{dobavqneNaAvtomobil.vehicleModel.model}" maxlength="50"
								required="#{not empty param[dobavqneNaAvtomobil.addButton.clientId]}"
								requiredMessage="задължително поле!" readonly="true" />
							<h:message for="model" />
						</h:outputLabel></td>
					<td><h:commandButton value="Избери" class="regButton"
							style="width:80px;height:40px;margin-top:20px;margin-left:80px;"
							action="#{dobavqneNaAvtomobil.chooseModelAvtomobil()}" /></td>
				</tr>
			</table>
			<h:panelGroup
				rendered="#{not empty dobavqneNaAvtomobil.client.person}">
				<!-- ако клиентът е физическо лице се изчертава това -->
				<table class="mainTable">
					<tr>
						<td><h:outputLabel value="Име на клиент">
								<br />
								<h:inputText id="personname"
									value="#{dobavqneNaAvtomobil.client.person.name}"
									maxlength="50"
									required="#{not empty param[dobavqneNaAvtomobil.addButton.clientId]}"
									requiredMessage="задължително поле!" readonly="true" />
								<h:message for="personname" />
							</h:outputLabel></td>
						<td><h:outputLabel value="Фамилия на клиент">
								<br />
								<h:inputText id="personfamily"
									value="#{dobavqneNaAvtomobil.client.person.family}"
									maxlength="50"
									required="#{not empty param[dobavqneNaAvtomobil.addButton.clientId]}"
									requiredMessage="задължително поле!" readonly="true" />
								<h:message for="personfamily" />
							</h:outputLabel></td>
					</tr>
				</table>
			</h:panelGroup>

			<h:panelGroup
				rendered="#{not empty dobavqneNaAvtomobil.client.company}">
				<!-- ако клиентът е юридическо лице се изчертава това -->
				<table class="mainTable">
					<tr>
						<td><h:outputLabel value="Наименование на фирма">
								<br />
								<h:inputText id="companyname"
									value="#{dobavqneNaAvtomobil.client.company.name}"
									maxlength="100"
									required="#{not empty param[dobavqneNaAvtomobil.addButton.clientId]}"
									requiredMessage="задължително поле!" readonly="true" />
								<h:message for="companyname" />
							</h:outputLabel></td>
					</tr>
				</table>
			</h:panelGroup>

			<table class="mainTable">
				<tr>
					<td><h:outputLabel value="Пробег (километра)*">
							<br />
							<h:inputText id="mileage" value="#{dobavqneNaAvtomobil.mileage}"
								required="#{not empty param[dobavqneNaAvtomobil.addButton.clientId]}"
								requiredMessage="задължително поле!">
								<f:validateLongRange minimum="0" />
							</h:inputText>
							<h:message for="mileage" />
						</h:outputLabel></td>
					<td><h:commandButton value="Избери Клиент" class="regButton"
							style="width:120px;height:40px;margin-left:20px;margin-top:20px;"
							action="#{dobavqneNaAvtomobil.chooseKlient()}" /></td>

					<td><h:commandButton value="Добави" class="regButton"
							style="width:80px;height:40px;margin-top:20px;"
							binding="#{dobavqneNaAvtomobil.addButton}"
							action="#{dobavqneNaAvtomobil.addAvtomobil()}" /> <br /> <h:outputText
							value="#{dobavqneNaAvtomobil.errorMessage}" /></td>
				</tr>
			</table>
		</h:form>
	</ui:define>

</ui:composition>
</html>